<ion-header [translucent]="true">
</ion-header>

<ion-content [fullscreen]="true">
    <ion-header collapse="condense">
        <ion-toolbar>
            <ion-title size="large">API Rest</ion-title>
        </ion-toolbar>
    </ion-header>

    <div class="ion-padding">
        <ion-list class="welcome-card">
            <ion-item>
                <h1>BudJet App</h1>
            </ion-item>
        </ion-list>
    </div>

    <ion-grid class="login-logo-grid">

        <ion-row>
            <div class="profile-img-container">
                <ion-img class="profile-img" src="/assets/img/BudJetLogo.jpg"></ion-img>
            </div>
        </ion-row>

        <br>
    </ion-grid>

    <ion-card>
        <ion-card-header>
            <ion-title>Cuentas registradas</ion-title>
        </ion-card-header>
        <ion-item>
            <ion-select placeholder="Seleccione la cuenta" [compareWith]="compareWith" [(ngModel)]="cuenta">
                <ion-select-option *ngFor="let cta of cuentas" [value]="cta">{{cta.nombre}}</ion-select-option>
            </ion-select>
        </ion-item>
    </ion-card>

    <br>

    <ion-card>
        <ion-card-header>
            <ion-title> Movimientos</ion-title>
        </ion-card-header>
        <ion-item class="ion-padding-horizontal">
            <ion-label position="floating">Descripcion</ion-label>
            <ion-input [(ngModel)]="movimiento.descripcion"></ion-input>
        </ion-item>
        <ion-item class="ion-padding-horizontal">
            <ion-label position="floating">Monto</ion-label>
            <ion-input [(ngModel)]="movimiento.monto"></ion-input>
        </ion-item>
        <ion-item class="ion-padding-horizontal">
            <ion-label position="floating">Fecha</ion-label>
            <ion-input [(ngModel)]="movimiento.fecha"></ion-input>
        </ion-item>
        <ion-item class="ion-padding-horizontal">
            <ion-label position="floating">Tipo de movimiento</ion-label>
            <ion-input [(ngModel)]="movimiento.tipo_movimiento"></ion-input>
        </ion-item>


        <ion-grid>
            <ion-row>
                <ion-col>
                    <ion-button shape="round" expand="block">Limpiar</ion-button>
                </ion-col>
                <ion-col>
                    <ion-button shape="round" expand="block" (click)="saveMovimiento()">Guardar</ion-button>
                </ion-col>
            </ion-row>
        </ion-grid>

    </ion-card>

    <ion-card>
        <ion-list-header>
            <ion-title> Movimientos registrados</ion-title>
        </ion-list-header>
        <ion-list>
            <ion-item *ngIf="!movimientos" class="ion-padding custom-skeleton">
                <ion-label>
                    <ion-skeleton-text animated></ion-skeleton-text>
                    <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
                </ion-label>
            </ion-item>
            <ion-item *ngFor="let mov of movimientos">
                <ion-label (click)="setMovimiento(mov)">
                    <h4>
                        {{mov.descripcion}}
                    </h4>
                    <p>
                        {{mov.monto}}
                    </p>
                    <p>
                        {{mov.fecha}}
                    </p>
                    <p>
                        {{mov.tipo_movimiento}}
                    </p>
                </ion-label>
                <ion-button (click)="deleteMovimiento(mov)">
                    <ion-icon slot="icon-only" name="trash-outline"></ion-icon>
                </ion-button>

            </ion-item>
        </ion-list>
    </ion-card>
</ion-content>

<ion-footer [translucent]="true">
    <ion-toolbar>
        <h5 class="copyright"> Â© BudJet App Todos los derechos reservados</h5>
    </ion-toolbar>
</ion-footer>